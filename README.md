```mermaid
flowchart TD
    A["t-1: 状态 x<br/>（用 locker）"]
    B["t-1: 状态 1-x<br/>（不用 locker）"]

    A -->|1-δ| C["t: 2 + z·x"]
    A -->|δ| D["t: 1 - (2 + z·x)"]

    B -->|α| C
    B -->|1-α| D

    C -->|1-δ| E["t+1: 2(z+1) + z^2·x"]
    C -->|δ| F["t+1: 1 - (2(z+1) + z^2·x)"]

    D -->|δ| E
    D -->|1-δ| F

    E --> G["t+n: 2(z^n + z^(n-1) + … + z + 1) + z^(n+1)·x"]
    G --> H["= 2·(z^(n+1) - 1)/(z - 1) + z^(n+1)·x"]

    F --> I["对称结果"]
    I --> J["1 - (2·(z^(n+1) - 1)/(z - 1) + z^(n+1)·x)"]



```mermaid
flowchart TD
    A["t-1: 状态 x<br/>（用 locker）"]
    B["t-1: 状态 1-x<br/>（不用 locker）"]

    A -->|1-δ| C["t: α + z·x"]
    A -->|δ| D["t: 1 - (α + z·x)"]

    B -->|α| C
    B -->|1-α| D

    C -->|1-δ| E["t+1: α(z+1) + z^2·x"]
    C -->|δ| F["t+1: 1 - (α(z+1) + z^2·x)"]

    D -->|α| E
    D -->|1-α| F

    E -->|1-δ| G["t+n: α·(z^(n-1) - 1)/(z - 1) + z^(n+1)·x"]
    E -->|δ| H["t+n: 1-(α·(z^(n-1) - 1)/(z - 1) + z^(n+1)·x)"]

    F -->|α| G
    F -->|1-α| H


